JSON –ü–∞—Ä—Å–µ—Ä

üéØ –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π JSON –ø–∞—Ä—Å–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:

‚úÖ –í—Å–µ —Ç–∏–ø—ã JSON: –æ–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã, —Å—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞, boolean, null
‚úÖ –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
‚úÖ PathIterator –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø–æ –ø—É—Ç–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –º–∞—Å—Å–∏–≤–æ–≤
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ STDIN/STDOUT
‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. JSONParser - —è–¥—Ä–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
2. PathIterator - —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ö–æ–¥–∞ –ø–æ –ø—É—Ç–∏
3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥ - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å STDIN/STDOUT

–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
    –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ø—É—Å–∫ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
    –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Go –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ JSON –∑–Ω–∞—á–µ–Ω–∏–π
    –ó–∞–º—ã–∫–∞–Ω–∏—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞
    –°—Ç—Ä–æ–≥–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
```
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
type JSONParser struct {
    input string
    pos   int
}

// –ú–µ—Ç–æ–¥—ã –ø–∞—Ä—Å–µ—Ä–∞
Parse() ‚Üí parseValue() ‚Üí 
  ‚îú‚îÄ‚îÄ parseString()
  ‚îú‚îÄ‚îÄ parseNumber() 
  ‚îú‚îÄ‚îÄ parseObject()
  ‚îú‚îÄ‚îÄ parseArray()
  ‚îú‚îÄ‚îÄ parseBoolean()
  ‚îî‚îÄ‚îÄ parseNull()

// –°–∏—Å—Ç–µ–º–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏
PathIterator() ‚Üí createIterator()
```
üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥

1. –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
    –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–±–µ–ª–æ–≤ (skipSpace())
    –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ –ø–µ—Ä–≤–æ–º—É —Å–∏–º–≤–æ–ª—É
    –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–æ–∫–µ (pos)

2. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
    parseValue() - –¥–∏—Å–ø–µ—Ç—á–µ—Ä –ø–æ –ø–µ—Ä–≤–æ–º—É —Å–∏–º–≤–æ–ª—É
    –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
    –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ (–∫–∞–≤—ã—á–∫–∏, —Å–∫–æ–±–∫–∏, –∑–∞–ø—è—Ç—ã–µ)

3. PathIterator
    –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—É—Ç–µ–π: "foo.bar.0.baz"
    –†–∞–±–æ—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ (map[string]interface{})
    –†–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ ([]interface{})
    –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

üí°–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ü–∞—Ä—Å–∏–Ω–≥ JSON:
```
parser := NewJSONParser(`{"name": "John", "age": 30}`)
result, err := parser.parseValue()
```

–ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –ø—É—Ç–∏:

```
iter, err := PathIterator(data, "foo", "bar")
iter(func(key string, value interface{}) bool {
    fmt.Printf("%s: %v\n", key, value)
    return true
})
```

–ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```
PARSE {"foo": {"bar": [1, 2, 3]}}
ITERATE foo.bar.1
# Output: 2
```

üõ†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

    –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ JSON ‚Üí "Error: invalid JSON"
    –ù–µ–≤–µ—Ä–Ω—ã–µ –ø—É—Ç–∏ ‚Üí "Error: key 'x' not found in object"
    –í—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–∞—Å—Å–∏–≤–∞ ‚Üí "Error: index '5' is out of range"
    –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã ‚Üí "Error: path does not lead to an object"

üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
```
// –ü—Ä–∏–º–∏—Ç–∏–≤—ã
"string", 42, -3.14, true, false, null

// –°—Ç—Ä—É–∫—Ç—É—Ä—ã
{"key": "value", "nested": {"a": 1}}

// –ú–∞—Å—Å–∏–≤—ã
[1, "two", false, {"obj": "val"}]

// –°–º–µ—à–∞–Ω–Ω—ã–µ
{"arr": [1, 2, 3], "obj": {"nested": "value"}}
```

üéñÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

    1. –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞–∫–µ—Ç encoding/json
    2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –æ–¥–Ω–æ–ø—Ä–æ—Ö–æ–¥–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥
    3. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏
    4. –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å - –ø–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞, —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –≤ Go –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π! üöÄ
